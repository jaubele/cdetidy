% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/load_and_compare_files.R
\name{load_and_compare_files}
\alias{load_and_compare_files}
\title{Load, compare, and optionally join multiple files from a folder}
\usage{
load_and_compare_files(
  folder,
  keywords,
  join_method = c("bind_rows", "left_join", "full_join"),
  by = NULL,
  recursive = TRUE,
  ignore_case = TRUE,
  full_names = TRUE,
  require_approval_on_diff = TRUE,
  force = FALSE,
  encoding = NULL,
  id_col = "source_file",
  show_compare_details = TRUE,
  also_run_compare_function = FALSE
)
}
\arguments{
\item{folder}{Path to the folder where files will be searched.}

\item{keywords}{A character vector of keywords to match filenames against.}

\item{join_method}{Join strategy to use. One of \code{"bind_rows"} (default), \code{"left_join"}, or \code{"full_join"}.}

\item{by}{If using a join method (not \code{bind_rows}), a character vector of join keys. Required for joins.}

\item{recursive}{Logical. If \code{TRUE}, search subdirectories. Default is \code{TRUE}.}

\item{ignore_case}{Logical. If \code{TRUE}, ignore case when matching filenames. Default is \code{TRUE}.}

\item{full_names}{Logical. If \code{TRUE}, return full file paths. Default is \code{TRUE}.}

\item{require_approval_on_diff}{Logical. If \code{TRUE} and differences in column names/order are found, prompts for user confirmation. Default is \code{TRUE}.}

\item{force}{Logical. If \code{TRUE}, override prompts and proceed even when discrepancies are found. Default is \code{FALSE}.}

\item{encoding}{Optional. Encoding to use when reading files (e.g., \code{"UTF-8"}). Default is \code{"UTF-8"}.}

\item{id_col}{Optional. If provided, a column will be added when using \code{bind_rows} to indicate source file names.}

\item{show_compare_details}{Logical. If \code{TRUE}, prints detailed column comparison results. Default is \code{TRUE}.}

\item{also_run_compare_function}{Logical. If \code{TRUE}, and the function \code{compare_variable_names()} exists, it will be called for each file pair.}
}
\value{
A data frame created by joining the selected files (if no discrepancies) or \code{NULL} if discrepancies are found and approval is denied.
If \code{bind_rows} is used with \code{id_col}, the output will include a source ID column.
}
\description{
Searches a folder for files matching given keywords, loads them into memory,
checks for consistency in column names and order, and optionally joins them
using one of several join methods. Designed for validating files before merging
in an ETL or QA process.
}
\details{
\itemize{
\item Forces select columns (e.g., \code{"cds"}, \code{"county_code"}, etc.) to character type on load, if present.
\item Normalizes character encodings to UTF-8.
\item Prompts user to resolve column mismatches unless \code{force = TRUE} or run non-interactively.
}
}
