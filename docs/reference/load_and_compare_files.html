<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load, compare, and optionally join multiple files from a folder — load_and_compare_files • cdetidy</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load, compare, and optionally join multiple files from a folder — load_and_compare_files"><meta name="description" content="Searches a folder for files matching given keywords, loads them into memory,
checks for consistency in column names and order, and optionally joins them
using one of several join methods. Designed for validating files before merging
in an ETL or QA process."><meta property="og:description" content="Searches a folder for files matching given keywords, loads them into memory,
checks for consistency in column names and order, and optionally joins them
using one of several join methods. Designed for validating files before merging
in an ETL or QA process."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cdetidy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/jaubele/cdetidy/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load, compare, and optionally join multiple files from a folder</h1>
      <small class="dont-index">Source: <a href="https://github.com/jaubele/cdetidy/blob/HEAD/R/load_and_compare_files.R"><code>R/load_and_compare_files.R</code></a></small>
      <div class="d-none name"><code>load_and_compare_files.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Searches a folder for files matching given keywords, loads them into memory,
checks for consistency in column names and order, and optionally joins them
using one of several join methods. Designed for validating files before merging
in an ETL or QA process.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">load_and_compare_files</span><span class="op">(</span></span>
<span>  <span class="va">folder</span>,</span>
<span>  <span class="va">keywords</span>,</span>
<span>  join_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bind_rows"</span>, <span class="st">"left_join"</span>, <span class="st">"full_join"</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ignore_case <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  full_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  require_approval_on_diff <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  encoding <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"source_file"</span>,</span>
<span>  show_compare_details <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  also_run_compare_function <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-folder">folder<a class="anchor" aria-label="anchor" href="#arg-folder"></a></dt>
<dd><p>Path to the folder where files will be searched.</p></dd>


<dt id="arg-keywords">keywords<a class="anchor" aria-label="anchor" href="#arg-keywords"></a></dt>
<dd><p>A character vector of keywords to match filenames against.</p></dd>


<dt id="arg-join-method">join_method<a class="anchor" aria-label="anchor" href="#arg-join-method"></a></dt>
<dd><p>Join strategy to use. One of `"bind_rows"` (default), `"left_join"`, or `"full_join"`.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>If using a join method (not `bind_rows`), a character vector of join keys. Required for joins.</p></dd>


<dt id="arg-recursive">recursive<a class="anchor" aria-label="anchor" href="#arg-recursive"></a></dt>
<dd><p>Logical. If `TRUE`, search subdirectories. Default is `TRUE`.</p></dd>


<dt id="arg-ignore-case">ignore_case<a class="anchor" aria-label="anchor" href="#arg-ignore-case"></a></dt>
<dd><p>Logical. If `TRUE`, ignore case when matching filenames. Default is `TRUE`.</p></dd>


<dt id="arg-full-names">full_names<a class="anchor" aria-label="anchor" href="#arg-full-names"></a></dt>
<dd><p>Logical. If `TRUE`, return full file paths. Default is `TRUE`.</p></dd>


<dt id="arg-require-approval-on-diff">require_approval_on_diff<a class="anchor" aria-label="anchor" href="#arg-require-approval-on-diff"></a></dt>
<dd><p>Logical. If `TRUE` and differences in column names/order are found, prompts for user confirmation. Default is `TRUE`.</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Logical. If `TRUE`, override prompts and proceed even when discrepancies are found. Default is `FALSE`.</p></dd>


<dt id="arg-encoding">encoding<a class="anchor" aria-label="anchor" href="#arg-encoding"></a></dt>
<dd><p>Optional. Encoding to use when reading files (e.g., `"UTF-8"`). Default is `"UTF-8"`.</p></dd>


<dt id="arg-id-col">id_col<a class="anchor" aria-label="anchor" href="#arg-id-col"></a></dt>
<dd><p>Optional. If provided, a column will be added when using `bind_rows` to indicate source file names.</p></dd>


<dt id="arg-show-compare-details">show_compare_details<a class="anchor" aria-label="anchor" href="#arg-show-compare-details"></a></dt>
<dd><p>Logical. If `TRUE`, prints detailed column comparison results. Default is `TRUE`.</p></dd>


<dt id="arg-also-run-compare-function">also_run_compare_function<a class="anchor" aria-label="anchor" href="#arg-also-run-compare-function"></a></dt>
<dd><p>Logical. If `TRUE`, and the function `compare_variable_names()` exists, it will be called for each file pair.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame created by joining the selected files (if no discrepancies) or `NULL` if discrepancies are found and approval is denied.
If `bind_rows` is used with `id_col`, the output will include a source ID column.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>- Forces select columns (e.g., `"cds"`, `"county_code"`, etc.) to character type on load, if present.
- Normalizes character encodings to UTF-8.
- Prompts user to resolve column mismatches unless `force = TRUE` or run non-interactively.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joseph Aubele, Caleb Mitchell, Aubrey Roy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

